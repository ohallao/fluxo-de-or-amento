# -*- coding: utf-8 -*-
"""Untitled22.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1CWLaZ1m2KZL8gRubGkJ55bOgmEo4-e5V
"""

import streamlit as st
import pandas as pd

# Função para gerar dados de exemplo para cada mês
def gerar_dados_exemplo():
    meses = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 
             'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro']
    dados = {mes: {
        "Receitas": 0.0, 
        "Despesas": 0.0, 
        "Investimentos": 0.0
        } for mes in meses}
    return dados

# Inicializar os dados no session_state se ainda não estiverem definidos
if 'dados_por_mes' not in st.session_state:
    st.session_state.dados_por_mes = gerar_dados_exemplo()

# Função para exibir a seção de edição de valores
def editar_mes(mes):
    st.subheader(f'Editar {mes}')
    
    # Carregar os dados atuais do mês selecionado
    dados_mes = st.session_state.dados_por_mes[mes]
    
    # Input para receitas, despesas e investimentos
    dados_mes['Receitas'] = st.number_input(f"Receitas para {mes}", min_value=0.0, step=100.0, value=dados_mes['Receitas'])
    dados_mes['Despesas'] = st.number_input(f"Despesas para {mes}", min_value=0.0, step=100.0, value=dados_mes['Despesas'])
    dados_mes['Investimentos'] = st.number_input(f"Investimentos para {mes}", min_value=0.0, step=100.0, value=dados_mes['Investimentos'])
    
    # Atualizar os dados no estado da sessão
    st.session_state.dados_por_mes[mes] = dados_mes

# Página inicial com as caixas dos meses
st.title('Planejamento Financeiro - Meses do Ano')

st.subheader('Clique em um mês para editar seus valores')

# Exibir os meses em "caixas" ou botões para clicar
col1, col2, col3 = st.columns(3)
meses = list(st.session_state.dados_por_mes.keys())

for i, mes in enumerate(meses):
    col = [col1, col2, col3][i % 3]  # Distribuir os meses entre as colunas
    with col:
        if st.button(mes):
            editar_mes(mes)

# Exibir os dados atualizados para cada mês
st.subheader('Resumo dos Meses')
for mes, dados in st.session_state.dados_por_mes.items():
    st.write(f"{mes} - Receitas: R$ {dados['Receitas']}, Despesas: R$ {dados['Despesas']}, Investimentos: R$ {dados['Investimentos']}")
